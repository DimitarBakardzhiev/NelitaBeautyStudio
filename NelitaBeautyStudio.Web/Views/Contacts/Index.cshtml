@using NelitaBeautyStudio.Models
@using NelitaBeautyStudio.Common
@model IEnumerable<Contact>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Контакти</h2>

@if (Model.Count() == 0)
{
    <h3>Няма въведени контакти</h3>
}
else
{
    <table class="table table-striped table-hover">
        <tbody>
            @foreach (var contact in Model)
            {
                <tr>
                    <td>@contact.Type</td>
                    <td>@contact.Value</td>

                    @if (User.IsInRole(GlobalConstants.AdminRole))
	                {
		                <td>@Html.ActionLink("Редактиране", "Edit", new { id = contact.Id }, new { @class = "btn btn-warning btn-xs" })</td>
                        <td>
                            @using (Html.BeginForm("Delete", "Contacts", new { id = contact.Id }, FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                
                                <input type="submit" value="Изтриване" class="btn btn-danger btn-xs" onclick="confirmDelete()" />
                            }
                        </td>
	                }
                </tr>
            }
        </tbody>
    </table>
    @Html.ActionLink("Добавяне", "Create", null, new { @class = "btn btn-primary" })
    
    if (User.IsInRole(GlobalConstants.AdminRole))
    {
        <script src="~/Scripts/confirmDelete.js"></script>
    }
}